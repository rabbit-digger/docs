(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{401:function(t,s,a){"use strict";a.r(s);var e=a(10),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"快速上手"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#快速上手"}},[t._v("#")]),t._v(" 快速上手")]),t._v(" "),a("p",[a("code",[t._v("Rabbit Digger Pro")]),t._v(" 是一个命令行程序. 在不提供参数的情况下, 它会读取工作目录下的 "),a("code",[t._v("config.yaml")]),t._v(" 作为配置文件, 然后开始运行. 如果需要指定配置文件为其他位置, 可以传入参数 "),a("code",[t._v("-c")]),t._v(".")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("./rabbit-digger-pro -c config.yaml\n")])])]),a("h2",{attrs:{id:"单-shadowsocks-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#单-shadowsocks-配置"}},[t._v("#")]),t._v(" 单 Shadowsocks 配置")]),t._v(" "),a("p",[t._v("这个配置文件会在本机监听 "),a("code",[t._v("10800")]),t._v(" 端口, 并且将传入的代理请求通过 "),a("code",[t._v("Shadowsocks")]),t._v(" 协议转发到代理服务器.")]),t._v(" "),a("p",[t._v("其中, "),a("code",[t._v("example.com:1234")]),t._v(" 是远程服务器的地址. 成功运行后, 本机的 "),a("code",[t._v("10800")]),t._v(" 端口可以接受 "),a("code",[t._v("HTTP")]),t._v(" 协议和 "),a("code",[t._v("SOCKS 5")]),t._v(" 协议的代理请求.")]),t._v(" "),a("p",[a("code",[t._v("ss_net")]),t._v(" 和 "),a("code",[t._v("mixed")]),t._v(" 可以替换成任意字符串, 它们分别代表这个代理和服务的名字.")]),t._v(" "),a("p",[t._v("如果你修改了 "),a("code",[t._v("net")]),t._v(" 中的 "),a("code",[t._v("ss_net")]),t._v(", 别忘了同时修改 "),a("code",[t._v("server")]),t._v(" / "),a("code",[t._v("mixed")]),t._v(" / "),a("code",[t._v("net")]),t._v(" 中的 "),a("code",[t._v("ss_net")]),t._v(".")]),t._v(" "),a("p",[a("code",[t._v("config.yaml")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("net")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ss_net")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" shadowsocks\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("server")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" example.com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1234")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cipher")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" aes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("cfb\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" password\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("udp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("server")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mixed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" http+socks5\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("bind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 127.0.0.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10800")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("net")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ss_net\n")])])]),a("h2",{attrs:{id:"clash-订阅"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#clash-订阅"}},[t._v("#")]),t._v(" Clash 订阅")]),t._v(" "),a("p",[a("code",[t._v("Rabbit Digger Pro")]),t._v(" 支持部分 "),a("code",[t._v("Clash")]),t._v(" 规则的导入.")]),t._v(" "),a("p",[t._v("在这个样例中, "),a("code",[t._v("Rabbit Digger Pro")]),t._v(" 会从 "),a("code",[t._v("url")]),t._v(" 中读取规则和代理, 并将其加入 "),a("code",[t._v("net")]),t._v(".\n"),a("code",[t._v("Clash")]),t._v(" 中的所有代理会以相同的名字导入这个配置文件中, 而规则会以 "),a("code",[t._v("clash_rule")]),t._v(" 命名.")]),t._v(" "),a("p",[t._v("在配置文件的其他地方, 你可以使用由 "),a("code",[t._v("import")]),t._v(" 导入的代理和规则. 例如在 "),a("code",[t._v("server")]),t._v(" 中引用 "),a("code",[t._v("clash_rule")]),t._v(".")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("请注意, "),a("code",[t._v("import")]),t._v(" 阶段对 "),a("code",[t._v("url")]),t._v(" 的请求并不会经过 "),a("code",[t._v("Rabbit Digger Pro")]),t._v(" 中的任何代理. 如果有通过代理访问的需求, 需要设置环境变量 "),a("code",[t._v("http_proxy")]),t._v(", "),a("code",[t._v("https_proxy")]),t._v(".")])]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("server")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mixed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" http+socks5\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("bind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 127.0.0.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10800")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("net")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" clash_rule\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("import")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" clash\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("poll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Clash 配置地址")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//example.com/subscribe.yaml\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 每过 86400 秒, 也就是 1 天更新一次")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("interval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("86400")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 生成的规则名")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("rule_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" clash_rule\n")])])]),a("p",[t._v("如果你的 "),a("code",[t._v("Clash")]),t._v(" 文件是本地文件, 可以将 "),a("code",[t._v("import")]),t._v(" 字段改为如下配置:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("import")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" clash\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /path/to/subscribe.yaml\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("rule_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" clash_rule\n")])])]),a("h2",{attrs:{id:"带规则的多出口代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#带规则的多出口代理"}},[t._v("#")]),t._v(" 带规则的多出口代理")]),t._v(" "),a("p",[t._v("在这个样例中, 假设你有 "),a("code",[t._v("us")]),t._v(", "),a("code",[t._v("jp")]),t._v(" 两个出口, "),a("code",[t._v("us")]),t._v(" 是 "),a("code",[t._v("trojan")]),t._v(" 协议, "),a("code",[t._v("jp")]),t._v(" 是 "),a("code",[t._v("shadowsocks")]),t._v(" 协议.")]),t._v(" "),a("p",[t._v("我们希望在连接发生时, 通过判断域名来走不同的出口:")]),t._v(" "),a("ul",[a("li",[t._v("当域名以 "),a("code",[t._v("google.com")]),t._v(" "),a("code",[t._v("结尾")]),t._v("时, 通过 "),a("code",[t._v("jp")]),t._v(" 连接.")]),t._v(" "),a("li",[t._v("当域名中"),a("code",[t._v("包含")]),t._v(" "),a("code",[t._v("twitter")]),t._v(" 时, 通过 "),a("code",[t._v("us")]),t._v(" 连接.")]),t._v(" "),a("li",[t._v("其他情况, 通过 "),a("code",[t._v("local")]),t._v(" 连接.")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[a("code",[t._v("local")]),t._v(" 代表使用本机直接连接. 即使你没有在 "),a("code",[t._v("net")]),t._v(" 中声明也默认存在. 然而你还是可以通过在 "),a("code",[t._v("net")]),t._v(" 中声明 "),a("code",[t._v("local")]),t._v(" 来覆盖这个默认行为.")])]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# yaml-language-server: $schema=https://rabbit-digger.github.io/schema/rabbit-digger-pro-schema.json")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("net")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("us")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" trojan\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("server")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" us.example.com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("443")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("sni")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" us.example.com\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uspassword"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("udp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("jp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" shadowsocks\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("server")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" jp.example.com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1234")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cipher")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" aes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("cfb\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"jppassword"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("udp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("my_rule")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" rule\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("rule")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" domain\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("method")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" suffix\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("domain")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" google.com\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("target")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" jp\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" domain\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("method")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" keyword\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("domain")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" twitter\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("target")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" us\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" any\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("target")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" local\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("server")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mixed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" http+socks5\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("bind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0.0.0.0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10800")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("net")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" my_rule\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);